"use strict";(self.webpackChunkraattai_ui=self.webpackChunkraattai_ui||[]).push([[746],{8746:(J,h,r)=>{r.r(h),r.d(h,{ShopModule:()=>S});var l=r(6814),a=r(6223),d=r(1896),u=r(9862),f=r(553),t=r(5879);let g=(()=>{class o{constructor(e){this.http=e}getProducts(){let e=new u.WM;return e.append("Content-Type","application/json"),this.http.get(f.N.apiUrl+"products/",{headers:e})}add2cart(e,n){let i=new u.WM;return i.append("Content-Type","application/json"),this.http.post(f.N.apiUrl+"user/cart/add-to-cart/"+e+"/"+n,{headers:i})}static#t=this.\u0275fac=function(n){return new(n||o)(t.LFG(u.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})();function Z(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",3),t.NdJ("click",function(){const c=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.viewDetail(c))}),t._UZ(1,"img",4),t.TgZ(2,"div",5)(3,"h5",6),t._uU(4),t.qZA(),t.TgZ(5,"p",7),t._uU(6),t.qZA()()()}if(2&o){const e=s.$implicit;t.xp6(1),t.Q6J("src",e.image,t.LSH),t.xp6(3),t.Oqu(e.title),t.xp6(2),t.hij("Rs.",e.price,"")}}let x=(()=>{class o{constructor(e,n){this.shopService=e,this.router=n,this.products=[]}ngOnInit(){this.shopService.getProducts().subscribe(e=>{console.log(e),this.products=e})}viewDetail(e){this.router.navigate(["/shop/product-detail"],{state:e})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(g),t.Y36(d.F0))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-shop"]],features:[t._Bn([g])],decls:5,vars:1,consts:[[1,"container"],[1,"raattai-product","product-list"],["class","card","style","width: 18rem;",3,"click",4,"ngFor","ngForOf"],[1,"card",2,"width","18rem",3,"click"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2,"Product Catalog"),t.qZA(),t.TgZ(3,"div",1),t.YNc(4,Z,7,3,"div",2),t.qZA()()),2&n&&(t.xp6(4),t.Q6J("ngForOf",i.products))},dependencies:[l.sg],styles:[".product-list[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin-top:20px}.product-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{color:#8a0d16!important;font-weight:700}"]})}return o})();var C=r(4121),T=r(9347),p=r(4428),_=r(2266);function y(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",18)(1,"img",19),t.NdJ("click",function(){const c=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.focusImage(c))}),t.qZA()()}if(2&o){const e=s.$implicit;t.xp6(1),t.Q6J("src",e.filename,t.LSH)}}function b(o,s){if(1&o&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",e," ")}}function A(o,s){if(1&o&&(t.TgZ(0,"div",20),t.YNc(1,b,2,1,"p",21),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.productDetail.desc.split("\r\n\r\n"))}}function O(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",2)(4,"div",4),t.YNc(5,y,2,1,"div",5),t.qZA(),t.TgZ(6,"div",6),t._UZ(7,"img",7),t.qZA()()(),t.TgZ(8,"div",3)(9,"div",8)(10,"h3"),t._uU(11),t.qZA(),t.TgZ(12,"h4",9),t._uU(13),t.ALo(14,"currency"),t.qZA(),t._UZ(15,"h4",9),t.TgZ(16,"div",10)(17,"label",11),t._uU(18,"Quantity"),t.qZA(),t.TgZ(19,"div",12)(20,"input",13),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.qty=i)}),t.qZA()()(),t.TgZ(21,"div",14)(22,"button",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.add2Cart(i.productDetail))}),t._uU(23,"Add to Cart"),t.qZA()(),t.TgZ(24,"div",16),t.YNc(25,A,2,1,"div",17),t.qZA()()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.productDetail.galleryImages),t.xp6(2),t.Q6J("src",e.focussedImage,t.LSH),t.xp6(4),t.Oqu(e.productDetail.title),t.xp6(2),t.Oqu(t.xi3(14,6,e.productDetail.price,"INR")),t.xp6(7),t.Q6J("ngModel",e.qty),t.xp6(5),t.Q6J("ngIf",e.productDetail.desc.split("\r\n\r\n").length>0)}}let q=(()=>{class o{constructor(e,n,i,c){this.ss=e,this.dialog=n,this.cartService=i,this.as=c,this.qty=1}ngOnInit(){this.productDetail=history.state,this.focussedImage=this.productDetail?.image}focusImage(e){this.focussedImage=e.filename}add2Cart(e){this.ss.add2cart(e.slug,this.qty).subscribe(n=>{this.dialog.open(C.W,{width:"500px",data:"Item added to cart"}),JSON.parse(localStorage.getItem("user")),this.cartService.getCartItems().subscribe(c=>{this.as.setCartCount(c.count)})})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(g),t.Y36(T.uw),t.Y36(p.N),t.Y36(_.z))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-detail"]],features:[t._Bn([g])],decls:1,vars:1,consts:[["class","mt-5 container",4,"ngIf"],[1,"mt-5","container"],[1,"row"],[1,"col-lg-6"],[1,"col-lg-3","gallery"],["class","image",4,"ngFor","ngForOf"],[1,"col-lg-9"],["width","100%",3,"src"],[1,"detail-section"],[1,"mt-5"],[1,"form-group","row"],["for","inputPassword",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","number","id","qty","placeholder","Quantity",1,"form-control",3,"ngModel","ngModelChange"],[1,"detail-btn-container","mt-5"],[1,"btn","btn-primary",3,"click"],[1,"mt-5","raattai-font"],["class","detail",4,"ngIf"],[1,"image"],["width","100%",3,"src","click"],[1,"detail"],[4,"ngFor","ngForOf"]],template:function(n,i){1&n&&t.YNc(0,O,26,9,"div",0),2&n&&t.Q6J("ngIf",i.productDetail)},dependencies:[l.sg,l.O5,a.Fj,a.wV,a.JJ,a.On,l.H9],styles:[".detail-btn-container[_ngcontent-%COMP%]{display:flex}.gallery[_ngcontent-%COMP%]{cursor:pointer}.gallery[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{border:2px solid brown;padding:5px}"]})}return o})();const U=["form"];function M(o,s){if(1&o&&(t.TgZ(0,"div",12)(1,"div",13)(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.qZA()(),t.TgZ(6,"div",14),t._uU(7),t.ALo(8,"currency"),t.qZA()()),2&o){const e=s.$implicit;t.xp6(3),t.hij(" ",e.product.title," "),t.xp6(2),t.hij("Qty: ",e.quantity,""),t.xp6(2),t.hij(" ",t.xi3(8,3,e.product.price,"INR")," ")}}let v=(()=>{class o{ngOnInit(){JSON.parse(localStorage.getItem("user")),this.cs.getCartItems().subscribe(n=>{this.cartitems=n.cart.items,this.cartTotal=n.total})}constructor(e,n,i){this.cs=e,this.router=n,this.as=i,this.cartitems=[],this.cartTotal=0,this.accessCode="AVCT47LA95AS55TCSA"}redirect(){this.cs.initiatePayment({amount:this.cartTotal,currency:"INR"}).subscribe(n=>{this.encRequest=n.key,console.log(this.encRequest),setTimeout(i=>this.form?.nativeElement.submit())},n=>{console.log(n.error)})}clearCart(){this.cs.clearCart().subscribe(e=>{alert("cart cleared"),this.as.setCartCount(0),this.router.navigate(["/shop"])})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(p.N),t.Y36(d.F0),t.Y36(_.z))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-cart"]],viewQuery:function(n,i){if(1&n&&t.Gf(U,5),2&n){let c;t.iGM(c=t.CRH())&&(i.form=c.first)}},features:[t._Bn([p.N])],decls:21,vars:7,consts:[[1,"container"],[1,"row"],[1,"col-lg-10"],["class","row item",4,"ngFor","ngForOf"],[1,"col-lg-2"],[1,"summary-box"],[1,"btn-container"],[1,"btn","btn-primary",3,"click"],["ngNoForm","","id","nonseamless","method","post","name","redirect","action","https://test.ccavenue.com/transaction/transaction.do?command=initiateTransaction"],["form",""],["type","hidden","id","encRequest","name","encRequest",3,"ngModel"],["type","hidden","name","access_code","id","access_code",3,"ngModel"],[1,"row","item"],[1,"col-lg-8","left-section"],[1,"col-lg-4","text-end"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),t._uU(4,"Shopping cart"),t.qZA(),t.YNc(5,M,9,6,"div",3),t.qZA(),t.TgZ(6,"div",4)(7,"h3"),t._uU(8,"Summary"),t.qZA(),t.TgZ(9,"div",5),t._uU(10),t.ALo(11,"currency"),t.TgZ(12,"div",6)(13,"button",7),t.NdJ("click",function(){return i.redirect()}),t._uU(14,"Checkout & Pay"),t.qZA(),t.TgZ(15,"button",7),t.NdJ("click",function(){return i.clearCart()}),t._uU(16,"Clear Cart"),t.qZA()()()()(),t.TgZ(17,"form",8,9),t._UZ(19,"input",10)(20,"input",11),t.qZA()()),2&n&&(t.xp6(5),t.Q6J("ngForOf",i.cartitems),t.xp6(5),t.hij(" ",t.xi3(11,4,i.cartTotal,"INR")," "),t.xp6(9),t.Q6J("ngModel",i.encRequest),t.xp6(1),t.Q6J("ngModel",i.accessCode))},dependencies:[l.sg,a.Fj,a.JJ,a.On,l.H9],styles:[".item[_ngcontent-%COMP%]{border:1px solid #e4e6e7;border-radius:10px;margin-top:10px;margin-bottom:10px;color:#8a0d16;padding:20px}.summary-box[_ngcontent-%COMP%]{border:1px solid #e4e6e7;border-radius:10px;color:#8a0d16;padding:10px}.btn-container[_ngcontent-%COMP%]{margin:10px}"]})}return o})(),P=(()=>{class o{constructor(e,n){this.route=e,this.cartService=n,this.txnId=""}ngOnInit(){this.route.queryParams.forEach(e=>{this.txnId=e.id,this.cartService.retrieveTransactionDetails(this.txnId).subscribe(n=>{this.transaction=n.order})})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(d.gz),t.Y36(p.N))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-payement-success"]],decls:32,vars:5,consts:[[1,"container","d-flex","align-items-center","justify-content-center","mt-5"],[1,"successContainer"],["viewBox","0 0 24 24",1,"successIcon"],["fill","green","d","M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"],[1,"text-gray-900","font-semibold","text-center"],[1,"text-gray-600"],[1,"back"],[3,"routerLink"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.O4$(),t.TgZ(2,"svg",2),t._UZ(3,"path",3),t.qZA(),t.kcU(),t.TgZ(4,"h3",4),t._uU(5,"Payment Done!"),t.qZA(),t.TgZ(6,"h4",4)(7,"u"),t._uU(8,"Transaction Details"),t.qZA()(),t.TgZ(9,"div"),t._uU(10,"Order No: "),t.TgZ(11,"b"),t._uU(12),t.qZA()(),t.TgZ(13,"div"),t._uU(14,"Amount: "),t.TgZ(15,"b"),t._uU(16),t.qZA()(),t.TgZ(17,"div"),t._uU(18,"Transaction Ref: "),t.TgZ(19,"b"),t._uU(20),t.qZA()(),t.TgZ(21,"div"),t._uU(22,"Tracking Id: "),t.TgZ(23,"b"),t._uU(24),t.qZA()(),t.TgZ(25,"p",5),t._uU(26,"Thank you for completing your secure online payment."),t.qZA(),t.TgZ(27,"p"),t._uU(28," Have a great day! "),t.qZA(),t.TgZ(29,"div",6)(30,"a",7),t._uU(31," Home "),t.qZA()()()()),2&n&&(t.xp6(12),t.Oqu(i.transaction.order_id),t.xp6(4),t.Oqu(i.transaction.amount),t.xp6(4),t.Oqu(i.transaction.bank_ref_no),t.xp6(4),t.Oqu(i.transaction.tracking_id),t.xp6(6),t.Q6J("routerLink","/home"))},dependencies:[d.rH],styles:[".successIcon[_ngcontent-%COMP%]{height:32px;width:32px}.successContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;color:#a94724;box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px;width:-moz-fit-content;width:fit-content;padding:1rem}.back[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:12px;border-radius:5px;font-size:1rem;background-color:#fff;border:2px solid #A94724}.back[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#a94724}.back[_ngcontent-%COMP%]:hover{background-color:#a94724}.back[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}"]})}return o})(),w=(()=>{class o{constructor(e,n){this.route=e,this.cartService=n,this.txnId=""}ngOnInit(){this.route.queryParams.forEach(e=>{this.txnId=e.id,this.cartService.retrieveTransactionDetails(this.txnId).subscribe(n=>{this.transaction=n.order})})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(d.gz),t.Y36(p.N))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-payement-failure"]],decls:29,vars:4,consts:[[1,"container","d-flex","align-items-center","justify-content-center","mt-5"],[1,"failureContainer"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"failureIcon"],["fill","red","d","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"],[1,"text-gray-900","font-semibold","text-center"],[1,"text-gray-600"],[1,"back"],["routerLink","/home"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.O4$(),t.TgZ(2,"svg",2),t._UZ(3,"path",3),t.qZA(),t.kcU(),t.TgZ(4,"h3",4),t._uU(5,"Payment Failure!"),t.qZA(),t.TgZ(6,"div"),t._uU(7,"Order No: "),t.TgZ(8,"b"),t._uU(9),t.qZA()(),t.TgZ(10,"div"),t._uU(11,"Amount: "),t.TgZ(12,"b"),t._uU(13),t.qZA()(),t.TgZ(14,"div"),t._uU(15,"Transaction Ref: "),t.TgZ(16,"b"),t._uU(17),t.qZA()(),t.TgZ(18,"div"),t._uU(19,"Tracking Id: "),t.TgZ(20,"b"),t._uU(21),t.qZA()(),t.TgZ(22,"p",5),t._uU(23,"Unfortunately, the payement for this order has failed"),t.qZA(),t.TgZ(24,"p"),t._uU(25," Try again after sometime "),t.qZA(),t.TgZ(26,"div",6)(27,"a",7),t._uU(28," RETRY "),t.qZA()()()()),2&n&&(t.xp6(9),t.Oqu(i.transaction.order_id),t.xp6(4),t.Oqu(i.transaction.amount),t.xp6(4),t.Oqu(i.transaction.bank_ref_no),t.xp6(4),t.Oqu(i.transaction.tracking_id))},dependencies:[d.rH],styles:[".failureIcon[_ngcontent-%COMP%]{height:32px;width:32px}.failureContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;color:#a94724;box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px;width:-moz-fit-content;width:fit-content;padding:1rem}.back[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:12px;border-radius:5px;font-size:1rem;background-color:#fff;border:2px solid #A94724}.back[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#a94724}.back[_ngcontent-%COMP%]:hover{background-color:#a94724}.back[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}"]})}return o})();const k=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:x},{path:"product-detail",component:q},{path:"cart",component:v,canActivate:[r(5072).j]},{path:"success-payment",component:P},{path:"failure-payment",component:w},{path:"checkout",component:v}];let F=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(k),d.Bz]})}return o})();var N=r(3961);let S=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({providers:[p.N],imports:[l.ez,u.JF,F,N.q,a.u5,a.UX]})}return o})()}}]);