"use strict";(self.webpackChunkraattai_ui=self.webpackChunkraattai_ui||[]).push([[746],{8746:(Y,h,c)=>{c.r(h),c.d(h,{ShopModule:()=>D});var l=c(6814),s=c(6223),d=c(1896),u=c(9862),f=c(553),t=c(5879);let g=(()=>{class n{constructor(e){this.http=e}getProducts(){let e=new u.WM;return e.append("Content-Type","application/json"),this.http.get(f.N.apiUrl+"products/",{headers:e})}add2cart(e,i){let o=new u.WM;return o.append("Content-Type","application/json"),this.http.post(f.N.apiUrl+"user/cart/add-to-cart/"+e+"/"+i,{headers:o})}static#t=this.\u0275fac=function(i){return new(i||n)(t.LFG(u.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac})}return n})();function C(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",3),t.NdJ("click",function(){const r=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.viewDetail(r))}),t._UZ(1,"img",4),t.TgZ(2,"div",5)(3,"h5",6),t._uU(4),t.qZA(),t.TgZ(5,"p",7),t._uU(6),t.qZA()()()}if(2&n){const e=a.$implicit;t.xp6(1),t.Q6J("src",e.image,t.LSH),t.xp6(3),t.Oqu(e.title),t.xp6(2),t.hij("Rs.",e.price,"")}}let T=(()=>{class n{constructor(e,i){this.shopService=e,this.router=i,this.products=[]}ngOnInit(){this.shopService.getProducts().subscribe(e=>{console.log(e),this.products=e})}viewDetail(e){this.router.navigate(["/shop/product-detail"],{state:e})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g),t.Y36(d.F0))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop"]],features:[t._Bn([g])],decls:5,vars:1,consts:[[1,"container"],[1,"raattai-product","product-list"],["class","card","style","width: 18rem;",3,"click",4,"ngFor","ngForOf"],[1,"card",2,"width","18rem",3,"click"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2,"Product Catalog"),t.qZA(),t.TgZ(3,"div",1),t.YNc(4,C,7,3,"div",2),t.qZA()()),2&i&&(t.xp6(4),t.Q6J("ngForOf",o.products))},dependencies:[l.sg],styles:[".product-list[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin-top:20px}.product-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{color:#8a0d16!important;font-weight:700}"]})}return n})();var _=c(4121),v=c(9347),p=c(4428),x=c(2266);function y(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",18)(1,"img",19),t.NdJ("click",function(){const r=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.focusImage(r))}),t.qZA()()}if(2&n){const e=a.$implicit;t.xp6(1),t.Q6J("src",e.filename,t.LSH)}}function b(n,a){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e," ")}}function A(n,a){if(1&n&&(t.TgZ(0,"div",20),t.YNc(1,b,2,1,"p",21),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.productDetail.desc.split("\r\n\r\n"))}}function O(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",2)(4,"div",4),t.YNc(5,y,2,1,"div",5),t.qZA(),t.TgZ(6,"div",6),t._UZ(7,"img",7),t.qZA()()(),t.TgZ(8,"div",3)(9,"div",8)(10,"h3"),t._uU(11),t.qZA(),t.TgZ(12,"h4",9),t._uU(13),t.ALo(14,"currency"),t.qZA(),t._UZ(15,"h4",9),t.TgZ(16,"div",10)(17,"label",11),t._uU(18,"Quantity"),t.qZA(),t.TgZ(19,"div",12)(20,"input",13),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.qty=o)}),t.qZA()()(),t.TgZ(21,"div",14)(22,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.add2Cart(o.productDetail))}),t._uU(23,"Add to Cart"),t.qZA()(),t.TgZ(24,"div",16),t.YNc(25,A,2,1,"div",17),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.productDetail.galleryImages),t.xp6(2),t.Q6J("src",e.focussedImage,t.LSH),t.xp6(4),t.Oqu(e.productDetail.title),t.xp6(2),t.Oqu(t.xi3(14,6,e.productDetail.price,"INR")),t.xp6(7),t.Q6J("ngModel",e.qty),t.xp6(5),t.Q6J("ngIf",e.productDetail.desc.split("\r\n\r\n").length>0)}}let q=(()=>{class n{constructor(e,i,o,r){this.ss=e,this.dialog=i,this.cartService=o,this.as=r,this.qty=1}ngOnInit(){this.productDetail=history.state,this.focussedImage=this.productDetail?.image}focusImage(e){this.focussedImage=e.filename}add2Cart(e){this.ss.add2cart(e.slug,this.qty).subscribe(i=>{this.dialog.open(_.W,{width:"500px",data:"Item added to cart"}),JSON.parse(localStorage.getItem("user")),this.cartService.getCartItems().subscribe(r=>{this.as.setCartCount(r.count)})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g),t.Y36(v.uw),t.Y36(p.N),t.Y36(x.z))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-detail"]],features:[t._Bn([g])],decls:1,vars:1,consts:[["class","mt-5 container",4,"ngIf"],[1,"mt-5","container"],[1,"row"],[1,"col-lg-6"],[1,"col-lg-3","gallery"],["class","image",4,"ngFor","ngForOf"],[1,"col-lg-9"],["width","100%",3,"src"],[1,"detail-section"],[1,"mt-5"],[1,"form-group","row"],["for","inputPassword",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","number","id","qty","placeholder","Quantity",1,"form-control",3,"ngModel","ngModelChange"],[1,"detail-btn-container","mt-5"],[1,"btn","btn-primary",3,"click"],[1,"mt-5","raattai-font"],["class","detail",4,"ngIf"],[1,"image"],["width","100%",3,"src","click"],[1,"detail"],[4,"ngFor","ngForOf"]],template:function(i,o){1&i&&t.YNc(0,O,26,9,"div",0),2&i&&t.Q6J("ngIf",o.productDetail)},dependencies:[l.sg,l.O5,s.Fj,s.wV,s.JJ,s.On,l.H9],styles:[".detail-btn-container[_ngcontent-%COMP%]{display:flex}.gallery[_ngcontent-%COMP%]{cursor:pointer}.gallery[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{border:2px solid brown;padding:5px}"]})}return n})();const U=["form"];function M(n,a){if(1&n&&(t.TgZ(0,"div",14)(1,"div",15)(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.qZA()(),t.TgZ(6,"div",16),t._uU(7),t.ALo(8,"currency"),t.qZA()()),2&n){const e=a.$implicit;t.xp6(3),t.hij(" ",e.product.title," "),t.xp6(2),t.hij("Qty: ",e.quantity,""),t.xp6(2),t.hij(" ",t.xi3(8,3,e.product.price,"INR")," ")}}function P(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3"),t._uU(4,"Shopping cart"),t.qZA(),t.YNc(5,M,9,6,"div",4),t.qZA(),t.TgZ(6,"div",5)(7,"h3"),t._uU(8,"Summary"),t.qZA(),t.TgZ(9,"div",6),t._uU(10),t.ALo(11,"currency"),t.TgZ(12,"div",7)(13,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.redirect())}),t._uU(14,"Checkout & Pay"),t.qZA(),t.TgZ(15,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.clearCart())}),t._uU(16,"Clear Cart"),t.qZA()()()()(),t.TgZ(17,"form",10,11),t._UZ(19,"input",12)(20,"input",13),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.cartitems),t.xp6(5),t.hij(" ",t.xi3(11,4,e.cartTotal,"INR")," "),t.xp6(9),t.Q6J("ngModel",e.encRequest),t.xp6(1),t.Q6J("ngModel",e.accessCode)}}function w(n,a){1&n&&(t.TgZ(0,"div",1)(1,"div",2)(2,"p",17),t._uU(3,"Please add items to cart from "),t.TgZ(4,"a",18),t._uU(5,"Shop"),t.qZA(),t._uU(6," page"),t.qZA()()()),2&n&&(t.xp6(4),t.Q6J("routerLink","/shop"))}let Z=(()=>{class n{ngOnInit(){JSON.parse(localStorage.getItem("user")),this.cs.getCartItems().subscribe(i=>{this.cartitems=i.cart.items,this.cartTotal=i.total})}constructor(e,i,o,r){this.cs=e,this.router=i,this.as=o,this.dialog=r,this.cartitems=[],this.cartTotal=0,this.accessCode="AVCT47LA95AS55TCSA"}redirect(){this.cs.initiatePayment({amount:this.cartTotal,currency:"INR"}).subscribe(i=>{this.encRequest=i.key,console.log(this.encRequest),setTimeout(o=>this.form?.nativeElement.submit())},i=>{console.log(i.error)})}clearCart(){this.cs.clearCart().subscribe(e=>{this.dialog.open(_.W,{width:"500px",data:"Cart Cleared Successfully"}),this.as.setCartCount(0),this.router.navigate(["/shop"])})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(p.N),t.Y36(d.F0),t.Y36(x.z),t.Y36(v.uw))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-cart"]],viewQuery:function(i,o){if(1&i&&t.Gf(U,5),2&i){let r;t.iGM(r=t.CRH())&&(o.form=r.first)}},features:[t._Bn([p.N])],decls:2,vars:2,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-lg-10"],["class","row item",4,"ngFor","ngForOf"],[1,"col-lg-2"],[1,"summary-box"],[1,"btn-container"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary","mt-3",3,"click"],["ngNoForm","","id","nonseamless","method","post","name","redirect","action","https://test.ccavenue.com/transaction/transaction.do?command=initiateTransaction"],["form",""],["type","hidden","id","encRequest","name","encRequest",3,"ngModel"],["type","hidden","name","access_code","id","access_code",3,"ngModel"],[1,"row","item"],[1,"col-lg-8","left-section"],[1,"col-lg-4","text-end"],[1,"contactText"],[3,"routerLink"]],template:function(i,o){1&i&&(t.YNc(0,P,21,7,"div",0),t.YNc(1,w,7,1,"div",0)),2&i&&(t.Q6J("ngIf",o.cartitems.length>0),t.xp6(1),t.Q6J("ngIf",0===o.cartitems.length))},dependencies:[l.sg,l.O5,d.rH,s.Fj,s.JJ,s.On,l.H9],styles:[".item[_ngcontent-%COMP%]{border:1px solid #e4e6e7;border-radius:10px;margin-top:10px;margin-bottom:10px;color:#8a0d16;padding:20px}.summary-box[_ngcontent-%COMP%]{border:1px solid #e4e6e7;border-radius:10px;color:#8a0d16;padding:10px}.btn-container[_ngcontent-%COMP%]{margin:10px}"]})}return n})(),I=(()=>{class n{constructor(e,i){this.route=e,this.cartService=i,this.txnId=""}ngOnInit(){this.route.queryParams.forEach(e=>{this.txnId=e.id,this.cartService.retrieveTransactionDetails(this.txnId).subscribe(i=>{this.transaction=i.order})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(d.gz),t.Y36(p.N))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-payement-success"]],decls:32,vars:5,consts:[[1,"container","d-flex","align-items-center","justify-content-center","mt-5"],[1,"successContainer"],["viewBox","0 0 24 24",1,"successIcon"],["fill","green","d","M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"],[1,"text-gray-900","font-semibold","text-center"],[1,"text-gray-600"],[1,"back"],[3,"routerLink"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t.O4$(),t.TgZ(2,"svg",2),t._UZ(3,"path",3),t.qZA(),t.kcU(),t.TgZ(4,"h3",4),t._uU(5,"Payment Done!"),t.qZA(),t.TgZ(6,"h4",4)(7,"u"),t._uU(8,"Transaction Details"),t.qZA()(),t.TgZ(9,"div"),t._uU(10,"Order No: "),t.TgZ(11,"b"),t._uU(12),t.qZA()(),t.TgZ(13,"div"),t._uU(14,"Amount: "),t.TgZ(15,"b"),t._uU(16),t.qZA()(),t.TgZ(17,"div"),t._uU(18,"Transaction Ref: "),t.TgZ(19,"b"),t._uU(20),t.qZA()(),t.TgZ(21,"div"),t._uU(22,"Tracking Id: "),t.TgZ(23,"b"),t._uU(24),t.qZA()(),t.TgZ(25,"p",5),t._uU(26,"Thank you for completing your secure online payment."),t.qZA(),t.TgZ(27,"p"),t._uU(28," Have a great day! "),t.qZA(),t.TgZ(29,"div",6)(30,"a",7),t._uU(31," Home "),t.qZA()()()()),2&i&&(t.xp6(12),t.Oqu(o.transaction.order_id),t.xp6(4),t.Oqu(o.transaction.amount),t.xp6(4),t.Oqu(o.transaction.bank_ref_no),t.xp6(4),t.Oqu(o.transaction.tracking_id),t.xp6(6),t.Q6J("routerLink","/home"))},dependencies:[d.rH],styles:[".successIcon[_ngcontent-%COMP%]{height:32px;width:32px}.successContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;color:#a94724;box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px;width:-moz-fit-content;width:fit-content;padding:1rem}.back[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:12px;border-radius:5px;font-size:1rem;background-color:#fff;border:2px solid #A94724}.back[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#a94724}.back[_ngcontent-%COMP%]:hover{background-color:#a94724}.back[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}"]})}return n})(),k=(()=>{class n{constructor(e,i){this.route=e,this.cartService=i,this.txnId=""}ngOnInit(){this.route.queryParams.forEach(e=>{this.txnId=e.id,this.cartService.retrieveTransactionDetails(this.txnId).subscribe(i=>{this.transaction=i.order})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(d.gz),t.Y36(p.N))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-payement-failure"]],decls:29,vars:4,consts:[[1,"container","d-flex","align-items-center","justify-content-center","mt-5"],[1,"failureContainer"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"failureIcon"],["fill","red","d","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"],[1,"text-gray-900","font-semibold","text-center"],[1,"text-gray-600"],[1,"back"],["routerLink","/home"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t.O4$(),t.TgZ(2,"svg",2),t._UZ(3,"path",3),t.qZA(),t.kcU(),t.TgZ(4,"h3",4),t._uU(5,"Payment Failure!"),t.qZA(),t.TgZ(6,"div"),t._uU(7,"Order No: "),t.TgZ(8,"b"),t._uU(9),t.qZA()(),t.TgZ(10,"div"),t._uU(11,"Amount: "),t.TgZ(12,"b"),t._uU(13),t.qZA()(),t.TgZ(14,"div"),t._uU(15,"Transaction Ref: "),t.TgZ(16,"b"),t._uU(17),t.qZA()(),t.TgZ(18,"div"),t._uU(19,"Tracking Id: "),t.TgZ(20,"b"),t._uU(21),t.qZA()(),t.TgZ(22,"p",5),t._uU(23,"Unfortunately, the payement for this order has failed"),t.qZA(),t.TgZ(24,"p"),t._uU(25," Try again after sometime "),t.qZA(),t.TgZ(26,"div",6)(27,"a",7),t._uU(28," RETRY "),t.qZA()()()()),2&i&&(t.xp6(9),t.Oqu(o.transaction.order_id),t.xp6(4),t.Oqu(o.transaction.amount),t.xp6(4),t.Oqu(o.transaction.bank_ref_no),t.xp6(4),t.Oqu(o.transaction.tracking_id))},dependencies:[d.rH],styles:[".failureIcon[_ngcontent-%COMP%]{height:32px;width:32px}.failureContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;color:#a94724;box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px;width:-moz-fit-content;width:fit-content;padding:1rem}.back[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:12px;border-radius:5px;font-size:1rem;background-color:#fff;border:2px solid #A94724}.back[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#a94724}.back[_ngcontent-%COMP%]:hover{background-color:#a94724}.back[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}"]})}return n})();const N=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:T},{path:"product-detail",component:q},{path:"cart",component:Z,canActivate:[c(5072).j]},{path:"success-payment",component:I},{path:"failure-payment",component:k},{path:"checkout",component:Z}];let S=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(N),d.Bz]})}return n})();var J=c(391);let D=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({providers:[p.N],imports:[l.ez,u.JF,S,J.q,s.u5,s.UX]})}return n})()}}]);